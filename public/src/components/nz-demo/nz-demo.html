<template>
  <style>
    #demo {
      display: grid;
      gap: 1rem;
    }

    header {
      display: grid;
      gap: 1rem;
    }

    #demo-content {
      display: grid;
      gap: 0;
      position: relative;

      & > nz-copy {
        position: absolute;
        right: 1rem;
        bottom: 1rem;
      }

      &:has(#demo-result-tab[aria-selected="true"]) nz-copy {
        display: none;
      }
    }

    [role="tablist"] {
      display: flex;
      gap: 0.5rem;
      justify-content: space-between;
    }

    [role="tab"] {
      flex: 1;
      border-top-left-radius: var(--br-lg);
      border-top-right-radius: var(--br-lg);
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;
      background-color: hsl(var(--theme-light));
      color: var(--fg-color);

      &[aria-selected="true"] {
        background-color: var(--fg-color);
        color: var(--bg-color);
      }

      &:hover {
        filter: brightness(1.1);

        &[aria-selected="true"] {
          filter: brightness(0.9);
        }
      }
    }

    [role="tabpanel"]:not([hidden]) {
      display: flex;
      flex-direction: column;
      height: 25rem;
      overflow: auto;
      border: 2px solid hsl(var(--theme-light));
      border-bottom-left-radius: var(--br-lg);
      border-bottom-right-radius: var(--br-lg);
      padding: 1rem;
      resize: vertical;
      position: relative;

      & > code {
        white-space: pre;
      }
    }
  </style>
  <section id="demo">
    <header>
      <slot name="title"></slot>
      <slot name="description"></slot>
    </header>
    <div id="demo-content">
      <div aria-label="Demo tabs" role="tablist">
        <button
          role="tab"
          aria-selected="true"
          aria-controls="demo-result"
          id="demo-result-tab"
        >
          Result
        </button>
      </div>
      <div role="tabpanel" aria-labelledby="demo-result-tab" id="demo-result">
        <slot></slot>
      </div>
      <div role="tabpanel" id="demo-html" hidden>
        <slot name="html"></slot>
      </div>
      <div role="tabpanel" id="demo-css" hidden>
        <slot name="css"></slot>
      </div>
      <div role="tabpanel" id="demo-js" hidden>
        <slot name="js"></slot>
      </div>
      <nz-copy></nz-copy>
    </div>
  </section>
</template>
